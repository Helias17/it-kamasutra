{"version":3,"sources":["hoc/withAuthRedirect.js","components/content/profile/posts/post/post.module.css","components/content/profile/posts/posts.module.css","components/content/profile/posts/post/Post.jsx","components/content/profile/posts/Posts.jsx","components/content/profile/posts/PostsContainer.js","img/party.jpg","components/content/profile/profileInfo/ProfileStatusWithHooks.jsx","components/content/profile/profileInfo/ProfileInfo.jsx","components/content/profile/Profile.js","components/content/profile/ProfileContainer.jsx"],"names":["mapStateToPropsForRedirect","state","isAuth","auth","withAuthRedirect","Component","RedirectComponent","this","props","to","React","connect","module","exports","Post","className","css","item","iconBox","src","iconUser","alt","icon","message","like","likesCount","Posts","posts","map","postItem","index","title","value","newPostText","textarea","onChange","e","updateNewPostText","onClick","addPost","btn","PostsContainer","profilePage","dispatch","action","updateNewPostTextActionCreator","target","addPostActionCreator","ProfileStatusWithHooks","useState","editMode","setEditMode","status","setStatus","useEffect","autoFocus","onBlur","updateUserStatus","type","onDoubleClick","ProfileInfo","profile","Party","photos","large","fullName","aboutMe","lookingForAJob","Preloader","Profile","ProfileContainer","userId","match","params","authrizedUserId","history","push","getUserProfile","getUserStatus","dispatches","compose","withRouter"],"mappings":"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","file":"static/js/3.5c83e9bc.chunk.js","sourcesContent":["import React from \"react\";\r\nimport { Redirect } from 'react-router-dom';\r\nimport { connect } from 'react-redux';\r\n\r\nconst mapStateToPropsForRedirect = (state) => ({\r\n  isAuth: state.auth.isAuth\r\n})\r\n\r\n\r\nexport const withAuthRedirect = (Component) => {\r\n\r\n  class RedirectComponent extends React.Component {\r\n    render() {\r\n      if (!this.props.isAuth) return <Redirect to={'/login'} />\r\n      return <Component {...this.props} />\r\n    }\r\n  }\r\n\r\n  const ConnectedAuthRedirectComponent = connect(mapStateToPropsForRedirect)(RedirectComponent);\r\n\r\n  return ConnectedAuthRedirectComponent;\r\n}","// extracted by mini-css-extract-plugin\nmodule.exports = {\"item\":\"post_item__HwK4r\",\"message\":\"post_message__qcHpR\",\"iconBox\":\"post_iconBox__1Rx6p\",\"icon\":\"post_icon__3N_Zh\",\"like\":\"post_like__323UX\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"title\":\"posts_title__2xg5D\",\"textarea\":\"posts_textarea__13xQe\",\"btn\":\"posts_btn__b_XhW\"};","import css from './post.module.css';\r\nimport iconUser from '../../../../../img/icon-user.png';\r\n\r\nconst Post = (props) => {\r\n  return (\r\n    <div className={css.item}>\r\n      <div className={css.iconBox}>\r\n        <img src={iconUser} alt=\"User avatar\" className={css.icon} />\r\n      </div>\r\n      <p className={css.message}>\r\n        {props.state.message}\r\n      </p>\r\n      <div className={css.like}>\r\n        {props.state.likesCount}\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Post;","import React from 'react';\r\nimport Post from './post/Post';\r\nimport css from './posts.module.css';\r\n\r\nconst Posts = (props) => {\r\n\r\n  const posts = props.posts.map((postItem, index) => <Post state={postItem} key={index} />)\r\n\r\n  const handleUpdateNewPostText = (e) => {\r\n    props.updateNewPostText(e);\r\n  }\r\n\r\n  const handleAddPost = () => {\r\n    props.addPost();\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <h2 className={css.title}>My posts</h2>\r\n      {posts}\r\n      <textarea\r\n        value={props.newPostText}\r\n        className={css.textarea}\r\n        onChange={handleUpdateNewPostText} //\r\n      />\r\n      <button onClick={handleAddPost} className={css.btn}>Send post</button>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Posts;","import React from 'react';\r\nimport { updateNewPostTextActionCreator, addPostActionCreator } from '../../../../redux/profileReducer';\r\n// import { StoreContext } from '../../../../StoreContext';\r\nimport Posts from './Posts';\r\nimport { connect } from 'react-redux';\r\n\r\n/* \r\nconst PostsContainer = () => {\r\n\r\n  return <StoreContext.Consumer> \r\n    {\r\n      (store) => {\r\n        const handleUpdateNewPostText = (e) => {\r\n          const action = updateNewPostTextActionCreator(e.target.value);\r\n          store.dispatch(action);\r\n        }\r\n\r\n        const handleAddPost = () => {\r\n          const action = addPostActionCreator();\r\n          store.dispatch(action);\r\n        }\r\n\r\n        return (\r\n          <Posts\r\n            updateNewPostText={handleUpdateNewPostText}\r\n            addPost={handleAddPost}\r\n            posts={store.getState().profilePage.posts}\r\n            newPostText={store.getState().profilePage.newPostText}\r\n          />\r\n        )\r\n      }\r\n    }\r\n    </StoreContext.Consumer>\r\n  \r\n}\r\n */\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    posts: state.profilePage.posts,\r\n    newPostText: state.profilePage.newPostText\r\n  }\r\n}\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n  return {\r\n    updateNewPostText: (e) => {\r\n      const action = updateNewPostTextActionCreator(e.target.value);\r\n      dispatch(action);\r\n    },\r\n    addPost: () => {\r\n      const action = addPostActionCreator();\r\n      dispatch(action);\r\n    }\r\n  }\r\n}\r\n\r\n\r\nconst PostsContainer = connect(mapStateToProps, mapDispatchToProps)(Posts);\r\n\r\nexport default PostsContainer;","export default __webpack_public_path__ + \"static/media/party.0f7a33b3.jpg\";","import React from \"react\";\r\nimport { useState, useEffect } from \"react\";\r\n\r\nexport const ProfileStatusWithHooks = (props) => {\r\n\r\n  let [editMode, setEditMode] = useState(false);\r\n  let [status, setStatus] = useState(props.status);\r\n\r\n  useEffect(() => {\r\n    setStatus(props.status);\r\n  }, [props.status]);\r\n\r\n  const activateEditMode = () => {\r\n    setEditMode(true);\r\n  }\r\n\r\n  const deactivateEditMode = () => {\r\n    setEditMode(false);\r\n    props.updateUserStatus(status);\r\n  }\r\n\r\n  const onStatusChange = (e) => setStatus(e.target.value);\r\n\r\n\r\n  return (\r\n    editMode ?\r\n      <input\r\n        autoFocus\r\n        onBlur={deactivateEditMode}\r\n        type=\"text\"\r\n        value={status}\r\n        onChange={onStatusChange}\r\n      /> :\r\n      <span onDoubleClick={activateEditMode}>{props.status}</span>\r\n  )\r\n}\r\n","import Party from '../../../../img/party.jpg';\r\nimport { Preloader } from '../../../common/preloader/Preloader';\r\nimport { ProfileStatusWithHooks } from './ProfileStatusWithHooks';\r\n\r\nexport const ProfileInfo = (props) => {\r\n\r\n  if (!props.profile) {\r\n    return <Preloader />\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <img src={Party} alt=\"Girls\" />\r\n      <div>\r\n        <img src={props.profile.photos.large} alt=\"\" />\r\n        <p>{props.profile.fullName}</p>\r\n        <p>{props.profile.aboutMe}</p>\r\n        <p>Looking for a job: {props.profile.lookingForAJob ? 'yes' : 'no'}</p>\r\n        <p><ProfileStatusWithHooks status={props.status} updateUserStatus={props.updateUserStatus} /></p>\r\n      </div>\r\n    </div>\r\n  )\r\n\r\n}\r\n","import PostsContainer from './posts/PostsContainer';\r\nimport {ProfileInfo} from './profileInfo/ProfileInfo';\r\n\r\nconst Profile = (props) => {\r\n\r\n  return (\r\n    <div>\r\n      <ProfileInfo profile={props.profile} \r\n        status={props.status} \r\n        updateUserStatus={props.updateUserStatus} \r\n      />\r\n      <PostsContainer />\r\n    </div>\r\n\r\n  )\r\n}\r\n\r\nexport default Profile;","import React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { withRouter } from 'react-router-dom';\r\nimport { compose } from 'redux';\r\nimport Profile from './Profile';\r\nimport { getUserProfile, getUserStatus, updateUserStatus } from '../../../redux/profileReducer';\r\nimport { withAuthRedirect } from '../../../hoc/withAuthRedirect';\r\n\r\n\r\nclass ProfileContainer extends React.Component {\r\n\r\n  componentDidMount() {\r\n    const userId = this.props.match.params.userId || this.props.authrizedUserId;\r\n\r\n    if (!userId) {\r\n      this.props.history.push('/login/');\r\n    }\r\n    this.props.getUserProfile(userId);\r\n    this.props.getUserStatus(userId);\r\n  }\r\n\r\n  render() {\r\n    return <Profile {...this.props}\r\n      profile={this.props.profile}\r\n      status={this.props.status}\r\n      updateUserStatus={this.props.updateUserStatus}\r\n    />\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    profile: state.profilePage.profile,\r\n    status: state.profilePage.status,\r\n    isAuth: state.auth.isAuth,\r\n    authrizedUserId: state.auth.userId,\r\n  }\r\n}\r\n\r\nconst dispatches = {\r\n  getUserProfile,\r\n  getUserStatus,\r\n  updateUserStatus,\r\n}\r\n\r\nexport default compose(\r\n  connect(mapStateToProps, dispatches),\r\n  withRouter,\r\n  withAuthRedirect\r\n)(ProfileContainer);"],"sourceRoot":""}